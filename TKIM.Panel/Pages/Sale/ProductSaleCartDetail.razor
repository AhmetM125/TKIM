@inherits RazorComponentBase


@if (ProductSaleCartVM is not null)
{

    <div class="row justify-content-between">
        <div class="col-6">
            <label class="fw-bold"> Ürün İsmi: </label>
            <label class="fw-bold form-control"> @ProductSaleCartVM.Name </label>
        </div>
        <div class="col-6 ">
            <label class="fw-bold">Sepet Seçimi</label>
            <select class="form-control" @bind="@SelectedCart">
                <option value="0">Yeni Sepet</option>
                @{
                    short i = 1;
                }
                @foreach (var item in BasketTabVMs)
                {
                    <option value="@i">Sepet @i</option>
                    @(i++)
                }
            </select>
        </div>

    </div>

    <div class="row mt-4">
        <div class="col-6">
            <label> Alış Fiyatı</label>
            <label class="form-control"> ₺@ProductSaleCartVM.PurchasePrice</label>
        </div>
        <div class="col-6">
            <label> Kar Oranı</label>
            <div class="d-flex form-control">
                %
                <input class="border-0 w-100" @bind-value="@ProductSaleCartVM.Profit" @bind-value:event="oninput" type="number" @onchange="@SalePriceChange" />
            </div>
        </div>
    </div>
    <div class="row mt-4">
        <div class="col-6">
            <label>  Toplam Stok</label>
            <label class="form-control"> @ProductSaleCartVM.Stock</label>

        </div>
        <div class="col-6">
            <label> Satılacak Miktar</label>
            <input type="number" class="form-control" @bind-value="ProductSaleCartVM.QuantityInCart" @bind-value:event="oninput" @onchange="SalePriceChange" />
        </div>
    </div>
    <div class="row mt-4">
        <div class="col-6">
            <label> Kdv Oranı</label>
            <div class="d-flex form-control">
                %
                <input class="border-0 w-100" @bind-value="@ProductSaleCartVM.Kdv" @bind-value:event="oninput" @onchange="@SalePriceChange" type="number" />
            </div>
        </div>
        <div class="col-6">
            <label> Miktar Fiyatı</label>
            <div class="form-control d-flex">
                ₺
                <input type="number" class="border-0 w-100" @onchange="PriceChange" @bind-value:event="oninput" @bind-value="@ProductSaleCartVM.SalePrice" />
            </div>

        </div>
    </div>
    <hr class="" />
    <div class="row mt-4">
        <div class="col-12">
            <label> Toplam Fiyat</label>
            <div class="d-flex form-control">
                ₺
                <input class="border-0 w-100" @bind-value="@ProductSaleCartVM.TotalPrice" type="number" />
            </div>
        </div>


    </div>


    <div class="d-flex flex-row-reverse mt-5">
        <button class="btn btn-outline-secondary w-25" @onclick="@(()=>InsertCart(SelectedCart))">
            <i class="fa-solid fa-cart-plus"></i>
            Sepete Ekle
        </button>
        <button class="btn btn-outline-primary w-25 mr-3">
            <i class="fa-solid fa-check"></i>
            Ürünü Güncelle
        </button>

    </div>

}

